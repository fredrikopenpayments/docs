<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="4419px" preserveAspectRatio="none" style="width:1207px;height:4419px;" version="1.1" viewBox="0 0 1207 4419" width="1207px" zoomAndPan="magnify"><defs/><g><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="189" x="509.75" y="23.5352">Payment Initiation Service</text><rect fill="#FFFFFF" height="8" style="stroke: #FFFFFF; stroke-width: 1.0;" width="10" x="34" y="2910.1367"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="34" x2="34" y1="2910.1367" y2="2918.1367"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="44" x2="44" y1="2910.1367" y2="2918.1367"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="34" x2="44" y1="2910.1367" y2="2910.1367"/><rect fill="#FFFFFF" height="21.3105" style="stroke: #FFFFFF; stroke-width: 1.0;" width="10" x="34" y="2946.1367"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="34" x2="34" y1="2946.1367" y2="2967.4473"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="44" x2="44" y1="2946.1367" y2="2967.4473"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="34" x2="44" y1="2967.4473" y2="2967.4473"/><rect fill="#FFFFFF" height="8" style="stroke: #FFFFFF; stroke-width: 1.0;" width="10" x="34" y="3748.6504"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="34" x2="34" y1="3748.6504" y2="3756.6504"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="44" x2="44" y1="3748.6504" y2="3756.6504"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="34" x2="44" y1="3748.6504" y2="3748.6504"/><rect fill="#FFFFFF" height="21.3105" style="stroke: #FFFFFF; stroke-width: 1.0;" width="10" x="34" y="3784.6504"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="34" x2="34" y1="3784.6504" y2="3805.9609"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="44" x2="44" y1="3784.6504" y2="3805.9609"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="34" x2="44" y1="3805.9609" y2="3805.9609"/><rect fill="#FFFFFF" height="118.2422" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="79.5" y="159.5977"/><rect fill="#FFFFFF" height="164.1738" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="79.5" y="442.0137"/><rect fill="#FFFFFF" height="148.8633" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="79.5" y="724.4297"/><rect fill="#FFFFFF" height="148.8633" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="79.5" y="991.5352"/><rect fill="#FFFFFF" height="148.8633" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="79.5" y="1258.6406"/><rect fill="#FFFFFF" height="148.8633" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="79.5" y="1525.7461"/><rect fill="#FFFFFF" height="148.8633" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="79.5" y="1808.1621"/><rect fill="#FFFFFF" height="164.1738" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="79.5" y="2075.2676"/><rect fill="#FFFFFF" height="560.4531" style="stroke: #FFFFFF; stroke-width: 1.0;" width="10" x="79.5" y="2357.6836"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="79.5" x2="79.5" y1="2357.6836" y2="2918.1367"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="89.5" x2="89.5" y1="2357.6836" y2="2918.1367"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="79.5" x2="89.5" y1="2357.6836" y2="2357.6836"/><rect fill="#FFFFFF" height="810.5137" style="stroke: #FFFFFF; stroke-width: 1.0;" width="10" x="79.5" y="2946.1367"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="79.5" x2="79.5" y1="2946.1367" y2="3756.6504"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="89.5" x2="89.5" y1="2946.1367" y2="3756.6504"/><rect fill="#FFFFFF" height="95.2422" style="stroke: #FFFFFF; stroke-width: 1.0;" width="10" x="79.5" y="3784.6504"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="79.5" x2="79.5" y1="3784.6504" y2="3879.8926"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="89.5" x2="89.5" y1="3784.6504" y2="3879.8926"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="79.5" x2="89.5" y1="3879.8926" y2="3879.8926"/><rect fill="#FFFFFF" height="164.1738" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="79.5" y="4062.4004"/><rect fill="#FFFFFF" height="164.1738" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="846.5" y="442.0137"/><rect fill="#FFFFFF" height="148.8633" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="846.5" y="724.4297"/><rect fill="#FFFFFF" height="148.8633" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="846.5" y="991.5352"/><rect fill="#FFFFFF" height="148.8633" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="846.5" y="1258.6406"/><rect fill="#FFFFFF" height="148.8633" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="846.5" y="1525.7461"/><rect fill="#FFFFFF" height="148.8633" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="846.5" y="1808.1621"/><rect fill="#FFFFFF" height="164.1738" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="846.5" y="2075.2676"/><rect fill="#FFFFFF" height="179.4844" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="846.5" y="2357.6836"/><rect fill="#FFFFFF" height="164.1738" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="846.5" y="4062.4004"/><rect fill="#FFFFFF" height="118.2422" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1028.5" y="159.5977"/><rect fill="#FFFFFF" height="139.1738" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1028.5" y="2712.3418"/><rect fill="#FFFFFF" height="44.6211" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1028.5" y="2996.7578"/><rect fill="#FFFFFF" height="179.4844" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1028.5" y="3149.9316"/><rect fill="#FFFFFF" height="139.1738" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1028.5" y="3550.8555"/><rect fill="#FFFFFF" height="44.6211" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1028.5" y="3835.2715"/><rect fill="#FFFFFF" height="37.3105" style="stroke: #FFFFFF; stroke-width: 1.0;" width="10" x="1152.5" y="2880.8262"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1152.5" x2="1152.5" y1="2880.8262" y2="2918.1367"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1162.5" x2="1162.5" y1="2880.8262" y2="2918.1367"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1152.5" x2="1162.5" y1="2880.8262" y2="2880.8262"/><rect fill="#FFFFFF" height="50.6211" style="stroke: #FFFFFF; stroke-width: 1.0;" width="10" x="1152.5" y="2946.1367"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1152.5" x2="1152.5" y1="2946.1367" y2="2996.7578"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1162.5" x2="1162.5" y1="2946.1367" y2="2996.7578"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1152.5" x2="1162.5" y1="2996.7578" y2="2996.7578"/><rect fill="#FFFFFF" height="37.3105" style="stroke: #FFFFFF; stroke-width: 1.0;" width="10" x="1152.5" y="3719.3398"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1152.5" x2="1152.5" y1="3719.3398" y2="3756.6504"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1162.5" x2="1162.5" y1="3719.3398" y2="3756.6504"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1152.5" x2="1162.5" y1="3719.3398" y2="3719.3398"/><rect fill="#FFFFFF" height="50.6211" style="stroke: #FFFFFF; stroke-width: 1.0;" width="10" x="1152.5" y="3784.6504"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1152.5" x2="1152.5" y1="3784.6504" y2="3835.2715"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1162.5" x2="1162.5" y1="3784.6504" y2="3835.2715"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1152.5" x2="1162.5" y1="3835.2715" y2="3835.2715"/><rect fill="#FFFFFF" height="1699.0957" style="stroke: #000000; stroke-width: 2.0;" width="1182.5" x="13" y="2616.0996"/><rect fill="#FFFFFF" height="504.5449" style="stroke: none; stroke-width: 1.0;" width="1182.5" x="13" y="3456.9688"/><rect fill="#FFFFFF" height="353.6816" style="stroke: none; stroke-width: 1.0;" width="1182.5" x="13" y="3961.5137"/><rect fill="#FFFFFF" height="299.7266" style="stroke: #000000; stroke-width: 2.0;" width="892.5" x="55" y="3983.4688"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="39" x2="39" y1="112.9766" y2="2918.1367"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;" x1="39" x2="39" y1="2918.1367" y2="2946.1367"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="39" x2="39" y1="2946.1367" y2="3756.6504"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;" x1="39" x2="39" y1="3756.6504" y2="3784.6504"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="39" x2="39" y1="3784.6504" y2="4332.1953"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="84" x2="84" y1="112.9766" y2="2918.1367"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;" x1="84" x2="84" y1="2918.1367" y2="2946.1367"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="84" x2="84" y1="2946.1367" y2="3756.6504"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;" x1="84" x2="84" y1="3756.6504" y2="3784.6504"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="84" x2="84" y1="3784.6504" y2="4332.1953"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="851.5" x2="851.5" y1="112.9766" y2="2918.1367"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;" x1="851.5" x2="851.5" y1="2918.1367" y2="2946.1367"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="851.5" x2="851.5" y1="2946.1367" y2="3756.6504"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;" x1="851.5" x2="851.5" y1="3756.6504" y2="3784.6504"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="851.5" x2="851.5" y1="3784.6504" y2="4332.1953"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1033.5" x2="1033.5" y1="112.9766" y2="2918.1367"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;" x1="1033.5" x2="1033.5" y1="2918.1367" y2="2946.1367"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1033.5" x2="1033.5" y1="2946.1367" y2="3756.6504"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;" x1="1033.5" x2="1033.5" y1="3756.6504" y2="3784.6504"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1033.5" x2="1033.5" y1="3784.6504" y2="4332.1953"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1157.5" x2="1157.5" y1="112.9766" y2="2918.1367"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;" x1="1157.5" x2="1157.5" y1="2918.1367" y2="2946.1367"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1157.5" x2="1157.5" y1="2946.1367" y2="3756.6504"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;" x1="1157.5" x2="1157.5" y1="3756.6504" y2="3784.6504"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1157.5" x2="1157.5" y1="3784.6504" y2="4332.1953"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="26" x="23" y="110.0234">PSU</text><ellipse cx="39" cy="43.4883" fill="#FEFECE" rx="8" ry="8" style="stroke: #A80036; stroke-width: 2.0;"/><path d="M39,51.4883 L39,78.4883 M26,59.4883 L52,59.4883 M39,78.4883 L26,93.4883 M39,78.4883 L52,93.4883 " fill="none" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="26" x="23" y="4344.7305">PSU</text><ellipse cx="39" cy="4357.6836" fill="#FEFECE" rx="8" ry="8" style="stroke: #A80036; stroke-width: 2.0;"/><path d="M39,4365.6836 L39,4392.6836 M26,4373.6836 L52,4373.6836 M39,4392.6836 L26,4407.6836 M39,4392.6836 L52,4407.6836 " fill="none" style="stroke: #A80036; stroke-width: 2.0;"/><rect fill="#FEFECE" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="39" x="65" y="81.4883"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="25" x="72" y="102.0234">TPP</text><rect fill="#FEFECE" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="39" x="65" y="4331.1953"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="25" x="72" y="4351.7305">TPP</text><rect fill="#FEFECE" height="46.9766" style="stroke: #A80036; stroke-width: 1.5;" width="172" x="765.5" y="65"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="158" x="772.5" y="85.5352">Open Banking Platform</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="22" x="840.5" y="102.0234">API</text><rect fill="#FEFECE" height="46.9766" style="stroke: #A80036; stroke-width: 1.5;" width="172" x="765.5" y="4331.1953"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="158" x="772.5" y="4351.7305">Open Banking Platform</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="22" x="840.5" y="4368.2188">API</text><rect fill="#FEFECE" height="46.9766" style="stroke: #A80036; stroke-width: 1.5;" width="172" x="947.5" y="65"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="158" x="954.5" y="85.5352">Open Banking Platform</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="33" x="1017" y="102.0234">Auth</text><rect fill="#FEFECE" height="46.9766" style="stroke: #A80036; stroke-width: 1.5;" width="172" x="947.5" y="4331.1953"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="158" x="954.5" y="4351.7305">Open Banking Platform</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="33" x="1017" y="4368.2188">Auth</text><rect fill="#FEFECE" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="56" x="1129.5" y="81.4883"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="42" x="1136.5" y="102.0234">ASPSP</text><rect fill="#FEFECE" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="56" x="1129.5" y="4331.1953"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="42" x="1136.5" y="4351.7305">ASPSP</text><rect fill="#FFFFFF" height="8" style="stroke: #FFFFFF; stroke-width: 1.0;" width="10" x="34" y="2910.1367"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="34" x2="34" y1="2910.1367" y2="2918.1367"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="44" x2="44" y1="2910.1367" y2="2918.1367"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="34" x2="44" y1="2910.1367" y2="2910.1367"/><rect fill="#FFFFFF" height="21.3105" style="stroke: #FFFFFF; stroke-width: 1.0;" width="10" x="34" y="2946.1367"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="34" x2="34" y1="2946.1367" y2="2967.4473"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="44" x2="44" y1="2946.1367" y2="2967.4473"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="34" x2="44" y1="2967.4473" y2="2967.4473"/><rect fill="#FFFFFF" height="8" style="stroke: #FFFFFF; stroke-width: 1.0;" width="10" x="34" y="3748.6504"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="34" x2="34" y1="3748.6504" y2="3756.6504"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="44" x2="44" y1="3748.6504" y2="3756.6504"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="34" x2="44" y1="3748.6504" y2="3748.6504"/><rect fill="#FFFFFF" height="21.3105" style="stroke: #FFFFFF; stroke-width: 1.0;" width="10" x="34" y="3784.6504"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="34" x2="34" y1="3784.6504" y2="3805.9609"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="44" x2="44" y1="3784.6504" y2="3805.9609"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="34" x2="44" y1="3805.9609" y2="3805.9609"/><rect fill="#FFFFFF" height="118.2422" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="79.5" y="159.5977"/><rect fill="#FFFFFF" height="164.1738" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="79.5" y="442.0137"/><rect fill="#FFFFFF" height="148.8633" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="79.5" y="724.4297"/><rect fill="#FFFFFF" height="148.8633" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="79.5" y="991.5352"/><rect fill="#FFFFFF" height="148.8633" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="79.5" y="1258.6406"/><rect fill="#FFFFFF" height="148.8633" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="79.5" y="1525.7461"/><rect fill="#FFFFFF" height="148.8633" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="79.5" y="1808.1621"/><rect fill="#FFFFFF" height="164.1738" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="79.5" y="2075.2676"/><rect fill="#FFFFFF" height="560.4531" style="stroke: #FFFFFF; stroke-width: 1.0;" width="10" x="79.5" y="2357.6836"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="79.5" x2="79.5" y1="2357.6836" y2="2918.1367"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="89.5" x2="89.5" y1="2357.6836" y2="2918.1367"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="79.5" x2="89.5" y1="2357.6836" y2="2357.6836"/><rect fill="#FFFFFF" height="810.5137" style="stroke: #FFFFFF; stroke-width: 1.0;" width="10" x="79.5" y="2946.1367"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="79.5" x2="79.5" y1="2946.1367" y2="3756.6504"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="89.5" x2="89.5" y1="2946.1367" y2="3756.6504"/><rect fill="#FFFFFF" height="95.2422" style="stroke: #FFFFFF; stroke-width: 1.0;" width="10" x="79.5" y="3784.6504"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="79.5" x2="79.5" y1="3784.6504" y2="3879.8926"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="89.5" x2="89.5" y1="3784.6504" y2="3879.8926"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="79.5" x2="89.5" y1="3879.8926" y2="3879.8926"/><rect fill="#FFFFFF" height="164.1738" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="79.5" y="4062.4004"/><rect fill="#FFFFFF" height="164.1738" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="846.5" y="442.0137"/><rect fill="#FFFFFF" height="148.8633" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="846.5" y="724.4297"/><rect fill="#FFFFFF" height="148.8633" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="846.5" y="991.5352"/><rect fill="#FFFFFF" height="148.8633" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="846.5" y="1258.6406"/><rect fill="#FFFFFF" height="148.8633" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="846.5" y="1525.7461"/><rect fill="#FFFFFF" height="148.8633" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="846.5" y="1808.1621"/><rect fill="#FFFFFF" height="164.1738" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="846.5" y="2075.2676"/><rect fill="#FFFFFF" height="179.4844" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="846.5" y="2357.6836"/><rect fill="#FFFFFF" height="164.1738" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="846.5" y="4062.4004"/><rect fill="#FFFFFF" height="118.2422" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1028.5" y="159.5977"/><rect fill="#FFFFFF" height="139.1738" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1028.5" y="2712.3418"/><rect fill="#FFFFFF" height="44.6211" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1028.5" y="2996.7578"/><rect fill="#FFFFFF" height="179.4844" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1028.5" y="3149.9316"/><rect fill="#FFFFFF" height="139.1738" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1028.5" y="3550.8555"/><rect fill="#FFFFFF" height="44.6211" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1028.5" y="3835.2715"/><rect fill="#FFFFFF" height="37.3105" style="stroke: #FFFFFF; stroke-width: 1.0;" width="10" x="1152.5" y="2880.8262"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1152.5" x2="1152.5" y1="2880.8262" y2="2918.1367"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1162.5" x2="1162.5" y1="2880.8262" y2="2918.1367"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1152.5" x2="1162.5" y1="2880.8262" y2="2880.8262"/><rect fill="#FFFFFF" height="50.6211" style="stroke: #FFFFFF; stroke-width: 1.0;" width="10" x="1152.5" y="2946.1367"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1152.5" x2="1152.5" y1="2946.1367" y2="2996.7578"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1162.5" x2="1162.5" y1="2946.1367" y2="2996.7578"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1152.5" x2="1162.5" y1="2996.7578" y2="2996.7578"/><rect fill="#FFFFFF" height="37.3105" style="stroke: #FFFFFF; stroke-width: 1.0;" width="10" x="1152.5" y="3719.3398"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1152.5" x2="1152.5" y1="3719.3398" y2="3756.6504"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1162.5" x2="1162.5" y1="3719.3398" y2="3756.6504"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1152.5" x2="1162.5" y1="3719.3398" y2="3719.3398"/><rect fill="#FFFFFF" height="50.6211" style="stroke: #FFFFFF; stroke-width: 1.0;" width="10" x="1152.5" y="3784.6504"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1152.5" x2="1152.5" y1="3784.6504" y2="3835.2715"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1162.5" x2="1162.5" y1="3784.6504" y2="3835.2715"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1152.5" x2="1162.5" y1="3835.2715" y2="3835.2715"/><polygon fill="#A80036" points="1016.5,155.5977,1026.5,159.5977,1016.5,163.5977,1020.5,159.5977" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="89.5" x2="1022.5" y1="159.5977" y2="159.5977"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="69" x="96.5" y="139.5449">Get Token</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="136" x="96.5" y="154.8555">POST /connect/token</text><rect fill="#FBFB77" height="69" style="stroke: #A80036; stroke-width: 1.0;" width="103" x="94" y="172.5977"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="69" x="98" y="189.166">B: client_id</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="95" x="98" y="204.4766">B: client_secret</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="82" x="98" y="219.7871">B: grant_type</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="52" x="98" y="235.0977">B: scope</text><polygon fill="#A80036" points="95.5,273.8398,85.5,277.8398,95.5,281.8398,91.5,277.8398" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="89.5" x2="1032.5" y1="277.8398" y2="277.8398"/><rect fill="#FBFB77" height="84" style="stroke: #A80036; stroke-width: 1.0;" width="108" x="920" y="290.8398"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="61" x="924" y="307.4082">HTTP 200</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="100" x="924" y="322.7188">B: access_token</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="80" x="924" y="338.0293">B: expires_in</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="85" x="924" y="353.3398">B: token_type</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="52" x="924" y="368.6504">B: scope</text><polygon fill="#A80036" points="834.5,438.0137,844.5,442.0137,834.5,446.0137,838.5,442.0137" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="89.5" x2="840.5" y1="442.0137" y2="442.0137"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="179" x="96.5" y="421.9609">Payment initiation request</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="461" x="96.5" y="437.2715">POST /psd2/paymentinitiation/v1/{payment-service}/{payment-product}</text><rect fill="#FBFB77" height="115" style="stroke: #A80036; stroke-width: 1.0;" width="168" x="94" y="455.0137"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="121" x="98" y="471.582">P: payment-service</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="126" x="98" y="486.8926">P: payment-product</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="104" x="98" y="502.2031">H: Authorization</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="106" x="98" y="517.5137">H: X-Request-ID</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="119" x="98" y="532.8242">H: PSU-IP-Address</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="63" x="98" y="548.1348">H: X-BicFi</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="160" x="98" y="563.4453">B: paymentInitiation_json</text><polygon fill="#A80036" points="95.5,602.1875,85.5,606.1875,95.5,610.1875,91.5,606.1875" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="89.5" x2="850.5" y1="606.1875" y2="606.1875"/><rect fill="#FBFB77" height="38" style="stroke: #A80036; stroke-width: 1.0;" width="272" x="574" y="619.1875"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="61" x="578" y="635.7559">HTTP 201</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="264" x="578" y="651.0664">B: paymentInitationRequestResponse-201</text><polygon fill="#A80036" points="834.5,720.4297,844.5,724.4297,834.5,728.4297,838.5,724.4297" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="89.5" x2="840.5" y1="724.4297" y2="724.4297"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="169" x="96.5" y="704.377">Get Payment Information</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="534" x="96.5" y="719.6875">GET /psd2/paymentinitiation/v1/{payment-service}/{payment-product}/{paymentId}</text><rect fill="#FBFB77" height="99" style="stroke: #A80036; stroke-width: 1.0;" width="134" x="94" y="737.4297"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="121" x="98" y="753.998">P: payment-service</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="126" x="98" y="769.3086">P: payment-product</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="81" x="98" y="784.6191">P: paymentId</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="104" x="98" y="799.9297">H: Authorization</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="106" x="98" y="815.2402">H: X-Request-ID</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="63" x="98" y="830.5508">H: X-BicFi</text><polygon fill="#A80036" points="95.5,869.293,85.5,873.293,95.5,877.293,91.5,873.293" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="89.5" x2="850.5" y1="873.293" y2="873.293"/><rect fill="#FBFB77" height="38" style="stroke: #A80036; stroke-width: 1.0;" width="261" x="585" y="886.293"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="61" x="589" y="902.8613">HTTP 200</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="253" x="589" y="918.1719">B: paymentInitiationWithStatusResponse</text><polygon fill="#A80036" points="834.5,987.5352,844.5,991.5352,834.5,995.5352,838.5,991.5352" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="89.5" x2="840.5" y1="991.5352" y2="991.5352"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="205" x="96.5" y="971.4824">Payment Cancellation Request</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="556" x="96.5" y="986.793">DELETE /psd2/paymentinitiation/v1/{payment-service}/{payment-product}/{paymentId}</text><rect fill="#FBFB77" height="99" style="stroke: #A80036; stroke-width: 1.0;" width="134" x="94" y="1004.5352"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="121" x="98" y="1021.1035">P: payment-service</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="126" x="98" y="1036.4141">P: payment-product</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="81" x="98" y="1051.7246">P: paymentId</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="104" x="98" y="1067.0352">H: Authorization</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="106" x="98" y="1082.3457">H: X-Request-ID</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="63" x="98" y="1097.6563">H: X-BicFi</text><polygon fill="#A80036" points="95.5,1136.3984,85.5,1140.3984,95.5,1144.3984,91.5,1140.3984" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="89.5" x2="850.5" y1="1140.3984" y2="1140.3984"/><rect fill="#FBFB77" height="38" style="stroke: #A80036; stroke-width: 1.0;" width="268" x="578" y="1153.3984"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="61" x="582" y="1169.9668">HTTP 202</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="260" x="582" y="1185.2773">B: paymentInitiationCancelResponse-202</text><polygon fill="#A80036" points="834.5,1254.6406,844.5,1258.6406,834.5,1262.6406,838.5,1258.6406" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="89.5" x2="840.5" y1="1258.6406" y2="1258.6406"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="224" x="96.5" y="1238.5879">Payment initiation status request</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="580" x="96.5" y="1253.8984">GET /psd2/paymentinitiation/v1/{payment-service}/{payment-product}/{paymentId}/status</text><rect fill="#FBFB77" height="99" style="stroke: #A80036; stroke-width: 1.0;" width="134" x="94" y="1271.6406"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="121" x="98" y="1288.209">P: payment-service</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="126" x="98" y="1303.5195">P: payment-product</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="81" x="98" y="1318.8301">P: paymentId</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="104" x="98" y="1334.1406">H: Authorization</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="106" x="98" y="1349.4512">H: X-Request-ID</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="63" x="98" y="1364.7617">H: X-BicFi</text><polygon fill="#A80036" points="95.5,1403.5039,85.5,1407.5039,95.5,1411.5039,91.5,1407.5039" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="89.5" x2="850.5" y1="1407.5039" y2="1407.5039"/><rect fill="#FBFB77" height="38" style="stroke: #A80036; stroke-width: 1.0;" width="299" x="547" y="1420.5039"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="61" x="551" y="1437.0723">HTTP 200</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="291" x="551" y="1452.3828">B: paymentInitiationStatusResponse-200_json</text><polygon fill="#A80036" points="834.5,1521.7461,844.5,1525.7461,834.5,1529.7461,838.5,1525.7461" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="89.5" x2="840.5" y1="1525.7461" y2="1525.7461"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="370" x="96.5" y="1505.6934">Start the authorisation process for a payment initiation</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="640" x="96.5" y="1521.0039">POST /psd2/paymentinitiation/v1/{payment-service}/{payment-product}/{paymentId}/authorisations</text><rect fill="#FBFB77" height="99" style="stroke: #A80036; stroke-width: 1.0;" width="134" x="94" y="1538.7461"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="121" x="98" y="1555.3145">P: payment-service</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="126" x="98" y="1570.625">P: payment-product</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="81" x="98" y="1585.9355">P: paymentId</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="104" x="98" y="1601.2461">H: Authorization</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="106" x="98" y="1616.5566">H: X-Request-ID</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="63" x="98" y="1631.8672">H: X-BicFi</text><polygon fill="#A80036" points="95.5,1670.6094,85.5,1674.6094,95.5,1678.6094,91.5,1674.6094" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="89.5" x2="850.5" y1="1674.6094" y2="1674.6094"/><rect fill="#FBFB77" height="53" style="stroke: #A80036; stroke-width: 1.0;" width="182" x="664" y="1687.6094"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="61" x="668" y="1704.1777">HTTP 201</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="156" x="668" y="1719.4883">H: ASPSP-SCA-Approach</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="174" x="668" y="1734.7988">B: startScaprocessResponse</text><polygon fill="#A80036" points="834.5,1804.1621,844.5,1808.1621,834.5,1812.1621,838.5,1808.1621" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="89.5" x2="840.5" y1="1808.1621" y2="1808.1621"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="411" x="96.5" y="1788.1094">Get Payment Initiation Authorisation Sub-Resources Request</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="632" x="96.5" y="1803.4199">GET /psd2/paymentinitiation/v1/{payment-service}/{payment-product}/{paymentId}/authorisations</text><rect fill="#FBFB77" height="99" style="stroke: #A80036; stroke-width: 1.0;" width="134" x="94" y="1821.1621"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="121" x="98" y="1837.7305">P: payment-service</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="126" x="98" y="1853.041">P: payment-product</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="81" x="98" y="1868.3516">P: paymentId</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="104" x="98" y="1883.6621">H: Authorization</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="106" x="98" y="1898.9727">H: X-Request-ID</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="63" x="98" y="1914.2832">H: X-BicFi</text><polygon fill="#A80036" points="95.5,1953.0254,85.5,1957.0254,95.5,1961.0254,91.5,1957.0254" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="89.5" x2="850.5" y1="1957.0254" y2="1957.0254"/><rect fill="#FBFB77" height="38" style="stroke: #A80036; stroke-width: 1.0;" width="114" x="732" y="1970.0254"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="61" x="736" y="1986.5938">HTTP 200</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="106" x="736" y="2001.9043">B: authorisations</text><polygon fill="#A80036" points="834.5,2071.2676,844.5,2075.2676,834.5,2079.2676,838.5,2075.2676" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="89.5" x2="840.5" y1="2075.2676" y2="2075.2676"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="336" x="96.5" y="2055.2148">Read the SCA Status of the payment authorisation</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="743" x="96.5" y="2070.5254">GET /psd2/paymentinitiation/v1/{payment-service}/{payment-product}/{paymentId}/authorisations/{authorisationId}</text><rect fill="#FBFB77" height="115" style="stroke: #A80036; stroke-width: 1.0;" width="134" x="94" y="2088.2676"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="121" x="98" y="2104.8359">P: payment-service</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="126" x="98" y="2120.1465">P: payment-product</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="81" x="98" y="2135.457">P: paymentId</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="111" x="98" y="2150.7676">P: authorisationId</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="104" x="98" y="2166.0781">H: Authorization</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="106" x="98" y="2181.3887">H: X-Request-ID</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="63" x="98" y="2196.6992">H: X-BicFi</text><polygon fill="#A80036" points="95.5,2235.4414,85.5,2239.4414,95.5,2243.4414,91.5,2239.4414" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="89.5" x2="850.5" y1="2239.4414" y2="2239.4414"/><rect fill="#FBFB77" height="38" style="stroke: #A80036; stroke-width: 1.0;" width="143" x="703" y="2252.4414"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="61" x="707" y="2269.0098">HTTP 200</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="135" x="707" y="2284.3203">B: scaStatusResponse</text><polygon fill="#A80036" points="834.5,2353.6836,844.5,2357.6836,834.5,2361.6836,838.5,2357.6836" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="89.5" x2="840.5" y1="2357.6836" y2="2357.6836"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="263" x="96.5" y="2337.6309">Update PSU data for payment initiation</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="743" x="96.5" y="2352.9414">PUT /psd2/paymentinitiation/v1/{payment-service}/{payment-product}/{paymentId}/authorisations/{authorisationId}</text><rect fill="#FBFB77" height="130" style="stroke: #A80036; stroke-width: 1.0;" width="222" x="94" y="2370.6836"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="121" x="98" y="2387.252">P: payment-service</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="126" x="98" y="2402.5625">P: payment-product</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="81" x="98" y="2417.873">P: paymentId</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="111" x="98" y="2433.1836">P: authorisationId</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="104" x="98" y="2448.4941">H: Authorization</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="106" x="98" y="2463.8047">H: X-Request-ID</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="63" x="98" y="2479.1152">H: X-BicFi</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="214" x="98" y="2494.4258">B: selectPsuAuthenticationMethod</text><polygon fill="#A80036" points="100.5,2533.168,90.5,2537.168,100.5,2541.168,96.5,2537.168" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="94.5" x2="850.5" y1="2537.168" y2="2537.168"/><rect fill="#FBFB77" height="53" style="stroke: #A80036; stroke-width: 1.0;" width="282" x="564" y="2550.168"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="61" x="568" y="2566.7363">HTTP 200</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="156" x="568" y="2582.0469">H: ASPSP-SCA-Approach</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="274" x="568" y="2597.3574">B: selectPsuAuthenticationMethodResponse</text><path d="M13,2616.0996 L75,2616.0996 L75,2623.0996 L65,2633.0996 L13,2633.0996 L13,2616.0996 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="1699.0957" style="stroke: #000000; stroke-width: 2.0;" width="1182.5" x="13" y="2616.0996"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="17" x="28" y="2629.668">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="61" x="90" y="2628.7344">[scaOAuth]</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="89.5" x2="131.5" y1="2654.7207" y2="2654.7207"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="131.5" x2="131.5" y1="2654.7207" y2="2667.7207"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="90.5" x2="131.5" y1="2667.7207" y2="2667.7207"/><polygon fill="#A80036" points="100.5,2663.7207,90.5,2667.7207,100.5,2671.7207,96.5,2667.7207" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="540" x="96.5" y="2649.9785">Process selectPsuAuthenticationMethodResponse._links.scaOAuth.href template</text><polygon fill="#A80036" points="1016.5,2708.3418,1026.5,2712.3418,1016.5,2716.3418,1020.5,2712.3418" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="89.5" x2="1022.5" y1="2712.3418" y2="2712.3418"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="85" x="96.5" y="2692.2891">Call authlink</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="151" x="96.5" y="2707.5996">GET /connect/authorize</text><rect fill="#FBFB77" height="99" style="stroke: #A80036; stroke-width: 1.0;" width="117" x="94" y="2725.3418"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="72" x="98" y="2741.9102">Q: client_id</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="55" x="98" y="2757.2207">Q: scope</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="109" x="98" y="2772.5313">Q: response_type</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="90" x="98" y="2787.8418">Q: redirect_uri</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="49" x="98" y="2803.1523">Q: state</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="84" x="98" y="2818.4629">Q: acr_values</text><polygon fill="#A80036" points="100.5,2847.5156,90.5,2851.5156,100.5,2855.5156,96.5,2851.5156" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="94.5" x2="1032.5" y1="2851.5156" y2="2851.5156"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="117" x="106.5" y="2846.7734">Redirect to ASPSP</text><polygon fill="#A80036" points="1140.5,2876.8262,1150.5,2880.8262,1140.5,2884.8262,1144.5,2880.8262" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="89.5" x2="1146.5" y1="2880.8262" y2="2880.8262"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="159" x="96.5" y="2876.084">Follow authlink redirect</text><polygon fill="#A80036" points="1140.5,2906.1367,1150.5,2910.1367,1140.5,2914.1367,1144.5,2910.1367" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="44" x2="1146.5" y1="2910.1367" y2="2910.1367"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="260" x="51" y="2905.3945">Start PSU authentication/authorization</text><polygon fill="#A80036" points="50,2963.4473,40,2967.4473,50,2971.4473,46,2967.4473" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="44" x2="1151.5" y1="2967.4473" y2="2967.4473"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="255" x="56" y="2962.7051">End PSU authentication/authorization</text><polygon fill="#A80036" points="1049.5,2992.7578,1039.5,2996.7578,1049.5,3000.7578,1045.5,2996.7578" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1043.5" x2="1156.5" y1="2996.7578" y2="2996.7578"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="76" x="1055.5" y="2992.0156">Auth result</text><polygon fill="#A80036" points="100.5,3037.3789,90.5,3041.3789,100.5,3045.3789,96.5,3041.3789" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="94.5" x2="1032.5" y1="3041.3789" y2="3041.3789"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="86" x="106.5" y="3021.3262">TPP Callback</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="138" x="106.5" y="3036.6367">GET [TPP Redirect URI]</text><rect fill="#FBFB77" height="53" style="stroke: #A80036; stroke-width: 1.0;" width="63" x="965" y="3054.3789"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="48" x="969" y="3070.9473">Q: code</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="55" x="969" y="3086.2578">Q: scope</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="49" x="969" y="3101.5684">Q: state</text><polygon fill="#A80036" points="1016.5,3145.9316,1026.5,3149.9316,1016.5,3153.9316,1020.5,3149.9316" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="89.5" x2="1022.5" y1="3149.9316" y2="3149.9316"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="113" x="96.5" y="3129.8789">Get OAuth token</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="136" x="96.5" y="3145.1895">POST /connect/token</text><rect fill="#FBFB77" height="130" style="stroke: #A80036; stroke-width: 1.0;" width="193" x="94" y="3162.9316"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="99" x="98" y="3179.5">H: X-PaymentId</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="185" x="98" y="3194.8105">H: X-PaymentAuthorisationId</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="69" x="98" y="3210.1211">B: client_id</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="95" x="98" y="3225.4316">B: client_secret</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="45" x="98" y="3240.7422">B: code</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="87" x="98" y="3256.0527">B: redirect_uri</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="82" x="98" y="3271.3633">B: grant_type</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="52" x="98" y="3286.6738">B: scope</text><polygon fill="#A80036" points="100.5,3325.416,90.5,3329.416,100.5,3333.416,96.5,3329.416" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="94.5" x2="1032.5" y1="3329.416" y2="3329.416"/><rect fill="#FBFB77" height="84" style="stroke: #A80036; stroke-width: 1.0;" width="108" x="920" y="3342.416"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="61" x="924" y="3358.9844">HTTP 200</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="100" x="924" y="3374.2949">B: access_token</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="80" x="924" y="3389.6055">B: expires_in</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="85" x="924" y="3404.916">B: token_type</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="52" x="924" y="3420.2266">B: scope</text><line style="stroke: #000000; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="13" x2="1195.5" y1="3457.9688" y2="3457.9688"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="72" x="18" y="3468.6035">[scaRedirect]</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="89.5" x2="131.5" y1="3493.2344" y2="3493.2344"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="131.5" x2="131.5" y1="3493.2344" y2="3506.2344"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="90.5" x2="131.5" y1="3506.2344" y2="3506.2344"/><polygon fill="#A80036" points="100.5,3502.2344,90.5,3506.2344,100.5,3510.2344,96.5,3506.2344" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="552" x="96.5" y="3488.4922">Process selectPsuAuthenticationMethodResponse._links.scaRedirect.href template</text><polygon fill="#A80036" points="1016.5,3546.8555,1026.5,3550.8555,1016.5,3554.8555,1020.5,3550.8555" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="89.5" x2="1022.5" y1="3550.8555" y2="3550.8555"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="85" x="96.5" y="3530.8027">Call authlink</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="151" x="96.5" y="3546.1133">GET /connect/authorize</text><rect fill="#FBFB77" height="99" style="stroke: #A80036; stroke-width: 1.0;" width="117" x="94" y="3563.8555"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="72" x="98" y="3580.4238">Q: client_id</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="55" x="98" y="3595.7344">Q: scope</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="109" x="98" y="3611.0449">Q: response_type</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="90" x="98" y="3626.3555">Q: redirect_uri</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="49" x="98" y="3641.666">Q: state</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="84" x="98" y="3656.9766">Q: acr_values</text><polygon fill="#A80036" points="100.5,3686.0293,90.5,3690.0293,100.5,3694.0293,96.5,3690.0293" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="94.5" x2="1032.5" y1="3690.0293" y2="3690.0293"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="117" x="106.5" y="3685.2871">Redirect to ASPSP</text><polygon fill="#A80036" points="1140.5,3715.3398,1150.5,3719.3398,1140.5,3723.3398,1144.5,3719.3398" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="89.5" x2="1146.5" y1="3719.3398" y2="3719.3398"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="159" x="96.5" y="3714.5977">Follow authlink redirect</text><polygon fill="#A80036" points="1140.5,3744.6504,1150.5,3748.6504,1140.5,3752.6504,1144.5,3748.6504" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="44" x2="1146.5" y1="3748.6504" y2="3748.6504"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="260" x="51" y="3743.9082">Start PSU authentication/authorization</text><polygon fill="#A80036" points="50,3801.9609,40,3805.9609,50,3809.9609,46,3805.9609" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="44" x2="1151.5" y1="3805.9609" y2="3805.9609"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="255" x="56" y="3801.2188">End PSU authentication/authorization</text><polygon fill="#A80036" points="1049.5,3831.2715,1039.5,3835.2715,1049.5,3839.2715,1045.5,3835.2715" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1043.5" x2="1156.5" y1="3835.2715" y2="3835.2715"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="76" x="1055.5" y="3830.5293">Auth result</text><polygon fill="#A80036" points="95.5,3875.8926,85.5,3879.8926,95.5,3883.8926,91.5,3879.8926" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="89.5" x2="1032.5" y1="3879.8926" y2="3879.8926"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="86" x="101.5" y="3859.8398">TPP Callback</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="138" x="101.5" y="3875.1504">GET [TPP Redirect URI]</text><rect fill="#FBFB77" height="38" style="stroke: #A80036; stroke-width: 1.0;" width="63" x="965" y="3892.8926"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="55" x="969" y="3909.4609">Q: scope</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="49" x="969" y="3924.7715">Q: state</text><line style="stroke: #000000; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="13" x2="1195.5" y1="3962.5137" y2="3962.5137"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="65" x="18" y="3973.1484">[decoupled]</text><path d="M55,3983.4688 L129,3983.4688 L129,3990.4688 L119,4000.4688 L55,4000.4688 L55,3983.4688 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="299.7266" style="stroke: #000000; stroke-width: 2.0;" width="892.5" x="55" y="3983.4688"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="29" x="70" y="3997.0371">loop</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="404" x="144" y="3996.1035">[until scaStatusResponse.scaStatus = "finalised", "failed" or "exempted"]</text><polygon fill="#A80036" points="834.5,4058.4004,844.5,4062.4004,834.5,4066.4004,838.5,4062.4004" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="89.5" x2="840.5" y1="4062.4004" y2="4062.4004"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="336" x="96.5" y="4042.3477">Read the SCA Status of the payment authorisation</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="743" x="96.5" y="4057.6582">GET /psd2/paymentinitiation/v1/{payment-service}/{payment-product}/{paymentId}/authorisations/{authorisationId}</text><rect fill="#FBFB77" height="115" style="stroke: #A80036; stroke-width: 1.0;" width="134" x="94" y="4075.4004"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="121" x="98" y="4091.9688">P: payment-service</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="126" x="98" y="4107.2793">P: payment-product</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="81" x="98" y="4122.5898">P: paymentId</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="111" x="98" y="4137.9004">P: authorisationId</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="104" x="98" y="4153.2109">H: Authorization</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="106" x="98" y="4168.5215">H: X-Request-ID</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="63" x="98" y="4183.832">H: X-BicFi</text><polygon fill="#A80036" points="95.5,4222.5742,85.5,4226.5742,95.5,4230.5742,91.5,4226.5742" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="89.5" x2="850.5" y1="4226.5742" y2="4226.5742"/><rect fill="#FBFB77" height="38" style="stroke: #A80036; stroke-width: 1.0;" width="143" x="703" y="4239.5742"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="61" x="707" y="4256.1426">HTTP 200</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="135" x="707" y="4271.4531">B: scaStatusResponse</text><!--
@startuml

skinparam shadowing false

title Payment Initiation Service

actor "PSU" as psu
participant "TPP" as tpp
participant "Open Banking Platform\nAPI" as obpapi
participant "Open Banking Platform\nAuth" as obpauth
participant "ASPSP" as aspsp


tpp -> obpauth: **Get Token**\nPOST /connect/token
activate tpp
rnote right of tpp
B: client_id
B: client_secret
B: grant_type
B: scope
endrnote
activate obpauth
|||
obpauth - -> tpp:
deactivate obpauth
rnote left of obpauth
HTTP 200
B: access_token
B: expires_in
B: token_type
B: scope
endrnote
deactivate tpp

|||

tpp -> obpapi: **Payment initiation request**\nPOST /psd2/paymentinitiation/v1/{payment-service}/{payment-product}
activate tpp
rnote right of tpp
P: payment-service
P: payment-product
H: Authorization
H: X-Request-ID
H: PSU-IP-Address
H: X-BicFi
B: paymentInitiation_json
endrnote
activate obpapi
|||
obpapi - -> tpp:
deactivate obpapi
rnote left of obpapi
HTTP 201
B: paymentInitationRequestResponse-201
endrnote
deactivate tpp

|||

tpp -> obpapi: **Get Payment Information**\nGET /psd2/paymentinitiation/v1/{payment-service}/{payment-product}/{paymentId}
activate tpp
rnote right of tpp
P: payment-service
P: payment-product
P: paymentId
H: Authorization
H: X-Request-ID
H: X-BicFi
endrnote
activate obpapi
|||
obpapi - -> tpp:
deactivate obpapi
rnote left of obpapi
HTTP 200
B: paymentInitiationWithStatusResponse
endrnote
deactivate tpp

|||

tpp -> obpapi: **Payment Cancellation Request**\nDELETE /psd2/paymentinitiation/v1/{payment-service}/{payment-product}/{paymentId}
activate tpp
rnote right of tpp
P: payment-service
P: payment-product
P: paymentId
H: Authorization
H: X-Request-ID
H: X-BicFi
endrnote
activate obpapi
|||
obpapi - -> tpp:
deactivate obpapi
rnote left of obpapi
HTTP 202
B: paymentInitiationCancelResponse-202
endrnote
deactivate tpp

|||

tpp -> obpapi: **Payment initiation status request**\nGET /psd2/paymentinitiation/v1/{payment-service}/{payment-product}/{paymentId}/status
activate tpp
rnote right of tpp
P: payment-service
P: payment-product
P: paymentId
H: Authorization
H: X-Request-ID
H: X-BicFi
endrnote
activate obpapi
|||
obpapi - -> tpp:
deactivate obpapi
rnote left of obpapi
HTTP 200
B: paymentInitiationStatusResponse-200_json
endrnote
deactivate tpp

|||

tpp -> obpapi: **Start the authorisation process for a payment initiation**\nPOST /psd2/paymentinitiation/v1/{payment-service}/{payment-product}/{paymentId}/authorisations
activate tpp
rnote right of tpp
P: payment-service
P: payment-product
P: paymentId
H: Authorization
H: X-Request-ID
H: X-BicFi
endrnote
activate obpapi
|||
obpapi - -> tpp:
deactivate obpapi
rnote left of obpapi
HTTP 201
H: ASPSP-SCA-Approach
B: startScaprocessResponse
endrnote
deactivate tpp

|||

tpp -> obpapi: **Get Payment Initiation Authorisation Sub-Resources Request**\nGET /psd2/paymentinitiation/v1/{payment-service}/{payment-product}/{paymentId}/authorisations
activate tpp
rnote right of tpp
P: payment-service
P: payment-product
P: paymentId
H: Authorization
H: X-Request-ID
H: X-BicFi
endrnote
activate obpapi
|||
obpapi - -> tpp:
deactivate obpapi
rnote left of obpapi
HTTP 200
B: authorisations
endrnote
deactivate tpp

|||

tpp -> obpapi: **Read the SCA Status of the payment authorisation**\nGET /psd2/paymentinitiation/v1/{payment-service}/{payment-product}/{paymentId}/authorisations/{authorisationId}
activate tpp
rnote right of tpp
P: payment-service
P: payment-product
P: paymentId
P: authorisationId
H: Authorization
H: X-Request-ID
H: X-BicFi
endrnote
activate obpapi
|||
obpapi - -> tpp:
deactivate obpapi
rnote left of obpapi
HTTP 200
B: scaStatusResponse
endrnote
deactivate tpp

|||

tpp -> obpapi: **Update PSU data for payment initiation**\nPUT /psd2/paymentinitiation/v1/{payment-service}/{payment-product}/{paymentId}/authorisations/{authorisationId}
activate tpp
rnote right of tpp
P: payment-service
P: payment-product
P: paymentId
P: authorisationId
H: Authorization
H: X-Request-ID
H: X-BicFi
B: selectPsuAuthenticationMethod
endrnote
activate obpapi
|||
obpapi - -> tpp:
deactivate obpapi
rnote left of obpapi
HTTP 200
H: ASPSP-SCA-Approach
B: selectPsuAuthenticationMethodResponse
endrnote


alt scaOAuth

tpp -> tpp: **Process selectPsuAuthenticationMethodResponse._links.scaOAuth.href template**

tpp -> obpauth: **Call authlink**\nGET /connect/authorize
activate obpauth
rnote right of tpp
Q: client_id
Q: scope
Q: response_type
Q: redirect_uri
Q: state
Q: acr_values
endrnote
obpauth - -> tpp: **Redirect to ASPSP**
deactivate obpauth

tpp -> aspsp: **Follow authlink redirect**
activate aspsp

psu -> aspsp: **Start PSU authentication/authorization**
activate psu
...
aspsp -> psu: **End PSU authentication/authorization**
deactivate psu
aspsp -> obpauth: **Auth result**
deactivate aspsp
activate obpauth
obpauth -> tpp: **TPP Callback**\nGET [TPP Redirect URI]
rnote left of obpauth
Q: code
Q: scope
Q: state
endrnote

deactivate obpauth

tpp -> obpauth: **Get OAuth token**\nPOST /connect/token
activate obpauth
rnote right of tpp
H: X-PaymentId
H: X-PaymentAuthorisationId
B: client_id
B: client_secret
B: code
B: redirect_uri
B: grant_type
B: scope
endrnote
|||
obpauth - -> tpp:
deactivate obpauth

rnote left of obpauth
HTTP 200
B: access_token
B: expires_in
B: token_type
B: scope
endrnote
|||

else scaRedirect

tpp -> tpp: **Process selectPsuAuthenticationMethodResponse._links.scaRedirect.href template**

tpp -> obpauth: **Call authlink**\nGET /connect/authorize
activate obpauth
rnote right of tpp
Q: client_id
Q: scope
Q: response_type
Q: redirect_uri
Q: state
Q: acr_values
endrnote
obpauth - -> tpp: **Redirect to ASPSP**
deactivate obpauth

tpp -> aspsp: **Follow authlink redirect**
activate aspsp

psu -> aspsp: **Start PSU authentication/authorization**
activate psu
...
aspsp -> psu: **End PSU authentication/authorization**
deactivate psu
aspsp -> obpauth: **Auth result**
deactivate aspsp
activate obpauth
obpauth -> tpp: **TPP Callback**\nGET [TPP Redirect URI]
rnote left of obpauth
Q: scope
Q: state
endrnote

deactivate obpauth
deactivate tpp
|||

else decoupled

loop until scaStatusResponse.scaStatus = "finalised", "failed" or "exempted"
|||
tpp -> obpapi: **Read the SCA Status of the payment authorisation**\nGET /psd2/paymentinitiation/v1/{payment-service}/{payment-product}/{paymentId}/authorisations/{authorisationId}
activate tpp
rnote right of tpp
P: payment-service
P: payment-product
P: paymentId
P: authorisationId
H: Authorization
H: X-Request-ID
H: X-BicFi
endrnote
activate obpapi
|||
obpapi - -> tpp:
deactivate obpapi
deactivate tpp
rnote left of obpapi
HTTP 200 
B: scaStatusResponse
endrnote
end
|||
end

@enduml

PlantUML version 1.2019.09(Mon Aug 26 18:19:51 CEST 2019)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 12.0.2+10
Operating System: Mac OS X
OS Version: 10.14.6
Default Encoding: UTF-8
Language: en
Country: SE
--></g></svg>