<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><title>How to use the Consent API · Open Payments</title><meta name="viewport" content="width=device-width"/><meta name="generator" content="Docusaurus"/><meta name="description" content="This API is used to retreive and manage consent for accessing account information on behalf of a banks customer. If you are new to Open Payments API it is probably best to read a bit about how the APIs work in the [ASPSP tutorial](/docs/docs/next/aspsp)."/><meta name="docsearch:version" content="next"/><meta name="docsearch:language" content="en"/><meta property="og:title" content="How to use the Consent API · Open Payments"/><meta property="og:type" content="website"/><meta property="og:url" content="https://openpaymentseurope.github.io/docs/"/><meta property="og:description" content="This API is used to retreive and manage consent for accessing account information on behalf of a banks customer. If you are new to Open Payments API it is probably best to read a bit about how the APIs work in the [ASPSP tutorial](/docs/docs/next/aspsp)."/><meta property="og:image" content="https://openpaymentseurope.github.io/docs/img/undraw_online.svg"/><meta name="twitter:card" content="summary"/><meta name="twitter:image" content="https://openpaymentseurope.github.io/docs/img/undraw_tweetstorm.svg"/><link rel="shortcut icon" href="/docs/img/favicon.ico"/><link rel="stylesheet" href="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.css"/><link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/atom-one-dark.min.css"/><link rel="alternate" type="application/atom+xml" href="https://openpaymentseurope.github.io/docs/blog/atom.xml" title="Open Payments Blog ATOM Feed"/><link rel="alternate" type="application/rss+xml" href="https://openpaymentseurope.github.io/docs/blog/feed.xml" title="Open Payments Blog RSS Feed"/><script>
              (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
              (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
              m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
              })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

              ga('create', 'UA-110256897-2', 'auto');
              ga('send', 'pageview');
            </script><script type="text/javascript" src="https://buttons.github.io/buttons.js"></script><script src="/docs/js/scrollSpy.js"></script><link rel="stylesheet" href="/docs/css/main.css"/><script src="/docs/js/codetabs.js"></script></head><body class="sideNavVisible separateOnPageNav"><div class="fixedHeaderContainer"><div class="headerWrapper wrapper"><header><a href="/docs/"><img class="logo" src="/docs/img/header_logo.svg" alt="Open Payments"/><h2 class="headerTitleWithLogo">Open Payments</h2></a><a href="/docs/versions"><h3>next</h3></a><div class="navigationWrapper navigationSlider"><nav class="slidingNav"><ul class="nav-site nav-site-internal"><li class="siteNavGroupActive"><a href="/docs/docs/next/introduction" target="_self">Docs</a></li><li class=""><a href="/docs/docs/next/doc4" target="_self">API</a></li><li class=""><a href="/docs/help" target="_self">Help</a></li><li class=""><a href="/docs/blog/" target="_self">Blog</a></li><li class="navSearchWrapper reactNavSearchWrapper"><input type="text" id="search_input_react" placeholder="Search" title="Search"/></li></ul></nav></div></header></div></div><div class="navPusher"><div class="docMainWrapper wrapper"><div class="docsNavContainer" id="docsNav"><nav class="toc"><div class="toggleNav"><section class="navWrapper wrapper"><div class="navBreadcrumb wrapper"><div class="navToggle" id="navToggler"><div class="hamburger-menu"><div class="line1"></div><div class="line2"></div><div class="line3"></div></div></div><h2><i>›</i><span>Tutorials</span></h2><div class="tocToggler" id="tocToggler"><i class="icon-toc"></i></div></div><div class="navGroups"><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Getting Started<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/docs/next/introduction">Introduction</a></li><li class="navListItem"><a class="navItem" href="/docs/docs/next/banks">Supported banks</a></li><li class="navListItem"><a class="navItem" href="/docs/docs/next/glossary">Glossary</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Tutorials<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/docs/next/api">Getting started with the API</a></li><li class="navListItem"><a class="navItem" href="/docs/docs/next/aspsp">How to use the ASPSP API</a></li><li class="navListItem navListItemActive"><a class="navItem" href="/docs/docs/next/consent">How to use the Consent API</a></li><li class="navListItem"><a class="navItem" href="/docs/docs/next/ais">How to use the AIS API</a></li><li class="navListItem"><a class="navItem" href="/docs/docs/next/pis">How to use the PIS API</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">API Reference<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/docs/next/aspsp-ref">ASPSP API Reference</a></li><li class="navListItem"><a class="navItem" href="/docs/docs/next/consent-ref">Consent API Reference</a></li><li class="navListItem"><a class="navItem" href="/docs/docs/next/ais-ref">AIS API Reference</a></li><li class="navListItem"><a class="navItem" href="/docs/docs/next/pis-ref">PIS API Reference</a></li></ul></div></div></section></div><script>
            var coll = document.getElementsByClassName('collapsible');
            var checkActiveCategory = true;
            for (var i = 0; i < coll.length; i++) {
              var links = coll[i].nextElementSibling.getElementsByTagName('*');
              if (checkActiveCategory){
                for (var j = 0; j < links.length; j++) {
                  if (links[j].classList.contains('navListItemActive')){
                    coll[i].nextElementSibling.classList.toggle('hide');
                    coll[i].childNodes[1].classList.toggle('rotate');
                    checkActiveCategory = false;
                    break;
                  }
                }
              }

              coll[i].addEventListener('click', function() {
                var arrow = this.childNodes[1];
                arrow.classList.toggle('rotate');
                var content = this.nextElementSibling;
                content.classList.toggle('hide');
              });
            }

            document.addEventListener('DOMContentLoaded', function() {
              createToggler('#navToggler', '#docsNav', 'docsSliderActive');
              createToggler('#tocToggler', 'body', 'tocActive');

              var headings = document.querySelector('.toc-headings');
              headings && headings.addEventListener('click', function(event) {
                var el = event.target;
                while(el !== headings){
                  if (el.tagName === 'A') {
                    document.body.classList.remove('tocActive');
                    break;
                  } else{
                    el = el.parentNode;
                  }
                }
              }, false);

              function createToggler(togglerSelector, targetSelector, className) {
                var toggler = document.querySelector(togglerSelector);
                var target = document.querySelector(targetSelector);

                if (!toggler) {
                  return;
                }

                toggler.onclick = function(event) {
                  event.preventDefault();

                  target.classList.toggle(className);
                };
              }
            });
        </script></nav></div><div class="container mainContainer docsContainer"><div class="wrapper"><div class="post"><header class="postHeader"><a class="edit-page-link button" href="https://github.com/openpaymentseurope/docs/blob/master/docs/consent.md" target="_blank" rel="noreferrer noopener">Edit</a><h1 id="__docusaurus" class="postHeaderTitle">How to use the Consent API</h1></header><article><div><span><p>This API is used to retreive and manage consent for accessing account information on behalf of a banks customer. If you are new to Open Payments API it is probably best to read a bit about how the APIs work in the <a href="/docs/docs/next/aspsp">ASPSP tutorial</a>.</p>
<p>Available <code>AUTH_HOST</code> values</p>
<table>
<thead>
<tr><th>Environment</th><th>URL</th></tr>
</thead>
<tbody>
<tr><td>Sandbox</td><td><a href="https://auth.sandbox.openbankingplatform.com">https://auth.sandbox.openbankingplatform.com</a></td></tr>
<tr><td>Production</td><td><a href="https://auth.openbankingplatform.com">https://auth.openbankingplatform.com</a></td></tr>
</tbody>
</table>
<p>Available <code>API_HOST</code> values</p>
<table>
<thead>
<tr><th>Environment</th><th>URL</th></tr>
</thead>
<tbody>
<tr><td>Sandbox</td><td><a href="https://api.sandbox.openbankingplatform.com">https://api.sandbox.openbankingplatform.com</a></td></tr>
<tr><td>Production</td><td><a href="https://api.openbankingplatform.com">https://api.openbankingplatform.com</a></td></tr>
</tbody>
</table>
<h2><a class="anchor" aria-hidden="true" id="acquire-an-access-token-for-account-information"></a><a href="#acquire-an-access-token-for-account-information" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Acquire an access token for Account Information</h2>
<pre><code class="hljs css language-javascript">curl -X POST
    [AUTH_HOST]/connect/token
    -H <span class="hljs-string">'Content-Type: application/x-www-form-urlencoded'</span>
    -d <span class="hljs-string">'client_id=[CLIENT_ID]&amp;client_secret=[CLIENT_SECRET]&amp;scope=accountinformation&amp;grant_type=client_credentials'</span>
</code></pre>
<p>If you have looked at the ASPSP tutorial you will notice that this is similar. The only difference is the <code>scope</code> that you get the token for. Here it should be set to <code>accountinformation</code>.</p>
<p>This post will return a JSON object that looks like this:</p>
<pre><code class="hljs css language-javascript">{
    <span class="hljs-string">"access_token"</span>: <span class="hljs-string">"[ACCESS_TOKEN]"</span>,
    <span class="hljs-string">"expires_in"</span>: <span class="hljs-number">3600</span>,
    <span class="hljs-string">"token_type"</span>: <span class="hljs-string">"Bearer"</span>,
    <span class="hljs-string">"scope"</span>: <span class="hljs-string">"accountinformation"</span>
}
</code></pre>
<h2><a class="anchor" aria-hidden="true" id="create-consent-request"></a><a href="#create-consent-request" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Create consent request</h2>
<p>This endpoint is used to initiate the consent process with a request for consent.</p>
<pre><code class="hljs css language-javascript">curl -X POST
    [API_HOST]/psd2/consent/v1/consents
    -H 'Authorization: Bearer [ACCESS_TOKEN]'
    -H 'Content-Type: application/json'
    -H 'PSU-IP-Address: [PSU_IP_Address]'
    -H 'X-BicFi: [BICFI]'
    -H 'X-Request-ID: [GUID]'
    -d '{
        "access": {
            "accounts": [
                {
                    "iban": "[CONSENT_IBAN]",
                    "currency": "[CONSENT_CURRENCY]"
                },
                {
                    "iban": "[OTHER_CONSENT_IBAN]",
                    "currency": "[CONSENT_CURRENCY]"
                }
            ],
            "balances": [
                {
                    "iban": "[CONSENT_IBAN]",
                    "currency": "[CONSENT_CURRENCY]"
                }
            ],
            "transactions": [
                {
                    "iban": "[CONSENT_IBAN]",
                    "currency": "[CONSENT_CURRENCY]"
                }
            ]
        },
        "recurringIndicator": [CONSENT_RECURRING_INDICATOR],
        "validUntil": "[yyyy-MM-dd]",
        "frequencyPerDay": [CONSENT_FREQUENCY_PER_DAY],
        "combinedServiceIndicator": [CONSENT_COMBINED_SERVICE_INDICATOR]
    }'
</code></pre>
<h3><a class="anchor" aria-hidden="true" id="headers"></a><a href="#headers" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Headers</h3>
<ul>
<li><code>PSU-IP-Address</code> is the IP address of the end user.</li>
<li><code>X-BicFi</code> the BICFI for the user's ASPSP. Find it in <a href="/docs/docs/next/aspsp">the ASPSP API</a>.</li>
<li><code>X-Request-ID</code> used to verify that the response matches the request.</li>
</ul>
<h3><a class="anchor" aria-hidden="true" id="body-description"></a><a href="#body-description" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Body description</h3>
<p><code>access</code> is a list of data items that consent need to be acquired for. There are three possible things to get consent from:</p>
<ul>
<li><code>accounts</code> this is a consent to get access to an account list with some account details needed.</li>
<li><code>balances</code> this is a consent to get access to balances for accounts.</li>
<li><code>transactions</code> this is a consent to see all the transactions for accounts.</li>
</ul>
<p>Each consent request contains <code>iban</code> and <code>currency</code> (optional). Each consent request can be a list of account ids (ibans).
The <code>balances</code> and <code>transactions</code> consent request must contain a subset of the accounts listed in <code>accounts</code>.</p>
<p><code>recurringIndicator</code> is a boolean that indicates if the consent can be used multiple times or not.
<code>validUntil</code> is a date in <code>yyyy-MM-dd</code> format.
<code>frequencyPerDay</code> is a number indicating the number of usages per day for this consent.
<code>combinedServiceIndicator</code> if true this indicates that the session will be used to initate a payment also. It has no practical meaning at this time.</p>
<h3><a class="anchor" aria-hidden="true" id="response"></a><a href="#response" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Response</h3>
<pre><code class="hljs css language-javascript">{
    <span class="hljs-string">"consentStatus"</span>: <span class="hljs-string">"received"</span>,
    <span class="hljs-string">"consentId"</span>: <span class="hljs-string">"[CONSENT_ID]"</span>,
    <span class="hljs-string">"scaMethods"</span>: [
        {
            <span class="hljs-string">"authenticationType"</span>: <span class="hljs-string">"PUSH_OTP"</span>,
            <span class="hljs-string">"authenticationMethodId"</span>: <span class="hljs-string">"[AUTHENTICATION_METHOD_ID]"</span>
        }
    ],
    <span class="hljs-string">"_links"</span>: {
        <span class="hljs-string">"self"</span>: {
            <span class="hljs-string">"href"</span>: <span class="hljs-string">"/psd2/consent/v1/consents/[CONSENT_ID]"</span>
        },
        <span class="hljs-string">"status"</span>: {
            <span class="hljs-string">"href"</span>: <span class="hljs-string">"/psd2/consent/v1/consents/[CONSENT_ID]/status"</span>
        },
        <span class="hljs-string">"startAuthorisation"</span>: {
            <span class="hljs-string">"href"</span>: <span class="hljs-string">"/psd2/consent/v1/consents/[CONSENT_ID]/authorisations"</span>
        }
    }
}
</code></pre>
<p>At this point the returned status should always be <code>received</code>. All possible values are listed <a href="#consent-status">below</a>.</p>
<p>The list at <code>scaMethods</code> typically contains one entry. But in the future it is possible that banks - or our platform here - will support multiple methods.</p>
<p>Authentication type will always be <code>PUSH_OTP</code> since that is what the banks we integrate with support. In the future it may change. See <a href="#authentication-type">below</a> for a list of possible types.</p>
<p>The list of links can be used for further actions on the consent. The <code>self</code> one is obviously to retreive the created consent request. The <code>status</code> is for accessing the status of the request. And <code>startAuthorisation</code>is the next step in the sequence of calls that is needed to get a consent.</p>
<h3><a class="anchor" aria-hidden="true" id="response-headers"></a><a href="#response-headers" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Response headers</h3>
<ul>
<li><code>ASPSP-SCA-Approach</code> see below for different values.</li>
<li><code>X-Request-ID</code></li>
</ul>
<h2><a class="anchor" aria-hidden="true" id="get-consent-request"></a><a href="#get-consent-request" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Get consent request</h2>
<p>Once you have a consent you can use the id for that consent to get information about the consent.</p>
<pre><code class="hljs css language-javascript">curl -X GET
    [API_HOST]/psd2/consent/v1/consents/[CONSENT_ID]
    -H <span class="hljs-string">'Authorization: Bearer [ACCESS_TOKEN]'</span>
    -H <span class="hljs-string">'PSU-IP-Address: [PSU_IP_Address]'</span>
    -H <span class="hljs-string">'X-BicFi: [BICFI]'</span>
    -H <span class="hljs-string">'X-Request-ID: [GUID]'</span>
</code></pre>
<h3><a class="anchor" aria-hidden="true" id="headers-1"></a><a href="#headers-1" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Headers</h3>
<p>See Create consent.</p>
<h3><a class="anchor" aria-hidden="true" id="path-parameter"></a><a href="#path-parameter" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Path parameter</h3>
<ul>
<li><code>CONSENT_ID</code> - the id that was returned when the consent was created.</li>
</ul>
<h3><a class="anchor" aria-hidden="true" id="response-1"></a><a href="#response-1" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Response</h3>
<pre><code class="hljs css language-javascript">{
    <span class="hljs-string">"consentId"</span>: <span class="hljs-string">"[CONSENT_ID]"</span>,
    <span class="hljs-string">"access"</span>: {
        <span class="hljs-string">"accounts"</span>: [
            {
                <span class="hljs-string">"iban"</span>: <span class="hljs-string">"[CONSENT_IBAN]"</span>,
                <span class="hljs-string">"currency"</span>: <span class="hljs-string">"[CONSENT_CURRENCY]"</span>
            }
        ],
        <span class="hljs-string">"balances"</span>: [
            {
                <span class="hljs-string">"iban"</span>: <span class="hljs-string">"[CONSENT_IBAN]"</span>,
                <span class="hljs-string">"currency"</span>: <span class="hljs-string">"[CONSENT_CURRENCY]"</span>
            }
        ],
        <span class="hljs-string">"transactions"</span>: [
            {
                <span class="hljs-string">"iban"</span>: <span class="hljs-string">"[CONSENT_IBAN]"</span>,
                <span class="hljs-string">"currency"</span>: <span class="hljs-string">"[CONSENT_CURRENCY]"</span>
            }
        ]
    },
    <span class="hljs-string">"recurringIndicator"</span>: <span class="hljs-literal">false</span>,
    <span class="hljs-string">"validUntil"</span>: <span class="hljs-string">"2019-10-01"</span>,
    <span class="hljs-string">"frequencyPerDay"</span>: <span class="hljs-number">100</span>,
    <span class="hljs-string">"lastActionDate"</span>: <span class="hljs-string">"2019-05-16"</span>,
    <span class="hljs-string">"consentStatus"</span>: <span class="hljs-string">"received"</span>
}
</code></pre>
<p>This is the exact same body as the one sent in to the create consent request endpoint except that the current status is added.</p>
<h3><a class="anchor" aria-hidden="true" id="response-headers-1"></a><a href="#response-headers-1" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Response headers</h3>
<ul>
<li><code>X-Request-ID</code></li>
</ul>
<h2><a class="anchor" aria-hidden="true" id="delete-consent-request"></a><a href="#delete-consent-request" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Delete consent request</h2>
<p>A consent request can be deleted with a <code>DELETE</code> call.</p>
<pre><code class="hljs css language-javascript">curl -X DELETE
    [API_HOST]/psd2/consent/v1/consents/[CONSENT_ID]
    -H <span class="hljs-string">'Authorization: Bearer [ACCESS_TOKEN]'</span>
    -H <span class="hljs-string">'PSU-IP-Address: [PSU_IP_Address]'</span>
    -H <span class="hljs-string">'X-BicFi: [BICFI]'</span>
    -H <span class="hljs-string">'X-Request-ID: [GUID]'</span>
</code></pre>
<h3><a class="anchor" aria-hidden="true" id="status-code"></a><a href="#status-code" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Status code</h3>
<p><code>204 No content</code></p>
<h3><a class="anchor" aria-hidden="true" id="response-headers-2"></a><a href="#response-headers-2" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Response headers</h3>
<ul>
<li><code>X-Request-ID</code></li>
</ul>
<h2><a class="anchor" aria-hidden="true" id="get-consent-status-request"></a><a href="#get-consent-status-request" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Get consent status request</h2>
<p>The consent request status is returned as part of the &quot;get consent request&quot; endpoint but it is also possible to use this endpoint to get only the status and nothing else. It is basaically the same call with <code>status</code> added at the end to the path.</p>
<pre><code class="hljs css language-javascript">curl -X GET
    [API_HOST]/psd2/consent/v1/consents/[CONSENT_ID]/status
    -H <span class="hljs-string">'Authorization: Bearer [ACCESS_TOKEN]'</span>
    -H <span class="hljs-string">'PSU-IP-Address: [PSU_IP_Address]'</span>
    -H <span class="hljs-string">'X-BicFi: [BICFI]'</span>
    -H <span class="hljs-string">'X-Request-ID: [GUID]'</span>
</code></pre>
<h3><a class="anchor" aria-hidden="true" id="headers-2"></a><a href="#headers-2" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Headers</h3>
<p>See Create consent.</p>
<h3><a class="anchor" aria-hidden="true" id="path-parameter-1"></a><a href="#path-parameter-1" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Path parameter</h3>
<ul>
<li><code>CONSENT_ID</code></li>
</ul>
<h3><a class="anchor" aria-hidden="true" id="response-2"></a><a href="#response-2" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Response</h3>
<pre><code class="hljs css language-javascript">{
    <span class="hljs-string">"consentStatus"</span>: <span class="hljs-string">"received"</span>
}
</code></pre>
<p>See possible values for status <a href="#consent-status">further down</a>.</p>
<h3><a class="anchor" aria-hidden="true" id="response-headers-3"></a><a href="#response-headers-3" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Response headers</h3>
<ul>
<li><code>X-Request-ID</code></li>
</ul>
<h2><a class="anchor" aria-hidden="true" id="start-the-authorisation-process-for-a-consent"></a><a href="#start-the-authorisation-process-for-a-consent" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Start the authorisation process for a consent</h2>
<pre><code class="hljs css language-javascript">curl -X POST
    [API_HOST]/psd2/consent/v1/consents/[CONSENT_ID]/authorisations
    -H <span class="hljs-string">'Authorization: Bearer [ACCESS_TOKEN]'</span>
    -H <span class="hljs-string">'PSU-IP-Address: [PSU_IP_Address]'</span>
    -H <span class="hljs-string">'X-BicFi: [BICFI]'</span>
    -H <span class="hljs-string">'X-Request-ID: [GUID]'</span>
</code></pre>
<p>Note that this call does not need a body despite being a <code>POST</code>.</p>
<h3><a class="anchor" aria-hidden="true" id="headers-3"></a><a href="#headers-3" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Headers</h3>
<p>See Create consent.</p>
<h3><a class="anchor" aria-hidden="true" id="path-parameter-2"></a><a href="#path-parameter-2" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Path parameter</h3>
<ul>
<li><code>CONSENT_ID</code></li>
</ul>
<h3><a class="anchor" aria-hidden="true" id="response-3"></a><a href="#response-3" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Response</h3>
<pre><code class="hljs css language-javascript">{
    <span class="hljs-string">"authorisationId"</span>: <span class="hljs-string">"[CONSENT_AUTH_ID]"</span>,
    <span class="hljs-string">"scaMethods"</span>: [
        {
            <span class="hljs-string">"authenticationType"</span>: <span class="hljs-string">"PUSH_OTP"</span>,
            <span class="hljs-string">"authenticationMethodId"</span>: <span class="hljs-string">"[AUTHENTICATION_METHOD_ID]"</span>
        }
    ],
    <span class="hljs-string">"_links"</span>: {
        <span class="hljs-string">"scaStatus"</span>: {
            <span class="hljs-string">"href"</span>: <span class="hljs-string">"/psd2/consent/v1/consents/[CONSENT_ID]/authorisations/[CONSENT_AUTH_ID]"</span>
        },
        <span class="hljs-string">"selectAuthenticationMethod"</span>: {
            <span class="hljs-string">"href"</span>: <span class="hljs-string">"/psd2/consent/v1/consents/[CONSENT_ID]/authorisations/[CONSENT_AUTH_ID]"</span>
        }
    },
    <span class="hljs-string">"scaStatus"</span>: <span class="hljs-string">"started"</span>
}
</code></pre>
<h3><a class="anchor" aria-hidden="true" id="response-headers-4"></a><a href="#response-headers-4" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Response headers</h3>
<ul>
<li><code>ASPSP-SCA-Approach</code> - see below for different values.</li>
<li><code>X-Request-ID</code></li>
</ul>
<h2><a class="anchor" aria-hidden="true" id="get-consent-authorisation-sub-resource-request"></a><a href="#get-consent-authorisation-sub-resource-request" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Get consent authorisation sub-resource request</h2>
<pre><code class="hljs css language-javascript">curl -X GET
    [API_HOST]/psd2/consent/v1/consents/[CONSENT_ID]/authorisations
    -H <span class="hljs-string">'Authorization: Bearer [ACCESS_TOKEN]'</span>
    -H <span class="hljs-string">'PSU-IP-Address: [PSU_IP_Address]'</span>
    -H <span class="hljs-string">'X-BicFi: [BICFI]'</span>
    -H <span class="hljs-string">'X-Request-ID: [GUID]'</span>
</code></pre>
<h3><a class="anchor" aria-hidden="true" id="headers-4"></a><a href="#headers-4" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Headers</h3>
<p>See Create consent.</p>
<h3><a class="anchor" aria-hidden="true" id="path-parameter-3"></a><a href="#path-parameter-3" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Path parameter</h3>
<ul>
<li><code>CONSENT_ID</code></li>
</ul>
<h3><a class="anchor" aria-hidden="true" id="response-4"></a><a href="#response-4" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Response</h3>
<pre><code class="hljs css language-javascript">{
    <span class="hljs-string">"authorisationIds"</span>: [
        <span class="hljs-string">"[CONSENT_AUTH_ID]"</span>
    ]
}
</code></pre>
<h3><a class="anchor" aria-hidden="true" id="response-headers-5"></a><a href="#response-headers-5" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Response headers</h3>
<ul>
<li><code>X-Request-ID</code></li>
</ul>
<h2><a class="anchor" aria-hidden="true" id="read-the-sca-status-of-the-consent-authorisation"></a><a href="#read-the-sca-status-of-the-consent-authorisation" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Read the SCA status of the consent authorisation</h2>
<pre><code class="hljs css language-javascript">curl -X GET
    [API_HOST]/psd2/consent/v1/consents/[CONSENT_ID]/authorisations/[CONSENT_AUTH_ID]
    -H <span class="hljs-string">'Authorization: Bearer [ACCESS_TOKEN]'</span>
    -H <span class="hljs-string">'PSU-IP-Address: [PSU_IP_Address]'</span>
    -H <span class="hljs-string">'X-BicFi: [BICFI]'</span>
    -H <span class="hljs-string">'X-Request-ID: [GUID]'</span>
</code></pre>
<h3><a class="anchor" aria-hidden="true" id="headers-5"></a><a href="#headers-5" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Headers</h3>
<p>See Create consent.</p>
<h3><a class="anchor" aria-hidden="true" id="path-parameter-4"></a><a href="#path-parameter-4" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Path parameter</h3>
<ul>
<li><code>CONSENT_ID</code></li>
<li><code>CONSENT_AUTH_ID</code></li>
</ul>
<h3><a class="anchor" aria-hidden="true" id="response-5"></a><a href="#response-5" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Response</h3>
<pre><code class="hljs css language-javascript">{
    <span class="hljs-string">"scaStatus"</span>: <span class="hljs-string">"started"</span>
}
</code></pre>
<h3><a class="anchor" aria-hidden="true" id="response-headers-6"></a><a href="#response-headers-6" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Response headers</h3>
<p><code>X-Request-ID</code></p>
<h2><a class="anchor" aria-hidden="true" id="update-psu-data-for-consents"></a><a href="#update-psu-data-for-consents" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Update PSU data for consents</h2>
<pre><code class="hljs css language-javascript">curl -X PUT
    [API_HOST]/psd2/consent/v1/consents/[CONSENT_ID]/authorisations/[CONSENT_AUTH_ID]
    -H 'Authorization: Bearer [ACCESS_TOKEN]'
    -H 'PSU-IP-Address: [PSU_IP_Address]'
    -H 'X-BicFi: [BICFI]'
    -H 'X-Request-ID: [GUID]'
    -d '{
        "authenticationMethodId": "[AUTHENTICATION_METHOD_ID]"
    }'
</code></pre>
<h3><a class="anchor" aria-hidden="true" id="headers-6"></a><a href="#headers-6" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Headers</h3>
<p>See Create consent.</p>
<h3><a class="anchor" aria-hidden="true" id="path-parameter-5"></a><a href="#path-parameter-5" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Path parameter</h3>
<ul>
<li><code>CONSENT_ID</code></li>
<li><code>CONSENT_AUTH_ID</code></li>
</ul>
<h3><a class="anchor" aria-hidden="true" id="response-headers-7"></a><a href="#response-headers-7" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Response headers</h3>
<ul>
<li><code>ASPSP-SCA-Approach</code> see below for different values.</li>
<li><code>X-Request-ID</code></li>
</ul>
<h3><a class="anchor" aria-hidden="true" id="response-6"></a><a href="#response-6" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Response</h3>
<pre><code class="hljs css language-javascript">{
    <span class="hljs-string">"chosenScaMethod"</span>: {
        <span class="hljs-string">"authenticationType"</span>: <span class="hljs-string">"PUSH_OTP"</span>,
        <span class="hljs-string">"authenticationMethodId"</span>: <span class="hljs-string">"[AUTHENTICATION_METHOD_ID]"</span>
    },
    <span class="hljs-string">"_links"</span>: {
        <span class="hljs-string">"scaStatus"</span>: {
            <span class="hljs-string">"href"</span>: <span class="hljs-string">"/psd2/consent/v1/consents/[CONSENT_ID]/authorisations/[CONSENT_AUTH_ID]"</span>
        },
        <span class="hljs-string">"scaOAuth"</span>: {
            <span class="hljs-string">"href"</span>: <span class="hljs-string">"[AUTH_HOST]/connect/authorize?client_id=[CLIENT_ID]&amp;scope=accountinformation&amp;response_type=code&amp;redirect_uri=[TPP_REDIRECT_URI]&amp;state=[TPP_STATE]&amp;acr_values=idp:[BICFI]%20consentId:[CONSENT_ID]%20consentAuthorisationId:[CONSENT_AUTH_ID]"</span>
        }
    },
    <span class="hljs-string">"psuMessage"</span>: <span class="hljs-string">"Please confirm with your bank app"</span>,
    <span class="hljs-string">"scaStatus"</span>: <span class="hljs-string">"scaMethodSelected"</span>
}
</code></pre>
<h3><a class="anchor" aria-hidden="true" id="test-procedure"></a><a href="#test-procedure" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Test procedure</h3>
<p>If the ASPSP uses OAuth:</p>
<ul>
<li>The above endpoint returns an OAuth authorize URL in the <code>scoOAuth</code> field.</li>
<li>Replace all the bracketed fields with real values. In your code you will have to replace only the two TPP values.
<ul>
<li><code>TPP_REDIRECT_URI</code> should be the URL to redirect to after auth is completed.</li>
<li><code>TPP_STATE</code> can be anything the TPP wants.</li>
<li><code>BICIFI</code></li>
</ul></li>
<li>Run it in a browser. In this case you will get to a page at the ESSESESS sandbox. It may differ for different banks.</li>
<li>In the page you get to you can use one of the following fake personal numbers:
<ul>
<li>9311219639</li>
<li>9311219589</li>
<li>8811215477</li>
<li>8811212862</li>
<li>8311211356</li>
</ul></li>
<li>When you submit the data you will be redirected to the <code>[TPP_REDIRECT_URI]</code></li>
<li>On this URI a <code>code</code> param will be added.</li>
<li>Use this <code>code</code> in the subsequent call when getting the account information token.</li>
</ul>
<p>Call the OAuth token endpoint to finalize consent flow.</p>
<pre><code class="hljs">curl -X POST
    [AUTH_HOST]/connect/token
    -H 'Content-Type: application/x-www-form-urlencoded'
    -H 'X-ConsentAuthorisationId: [CONSENT_AUTH_ID]'
    -H 'X-ConsentId: [CONSENT_ID]'
    -d 'client_id=[CLIENT_ID]&amp;client_secret=[CLIENT_SECRET]&amp;code=[CODE]&amp;redirect_uri=[TPP_REDIRECT_URI]&amp;grant_type=authorization_code'
</code></pre>
<p>At this point you are ready to call the account service. Read more in the <a href="/docs/docs/next/ais">account service tutorial</a>.</p>
<h2><a class="anchor" aria-hidden="true" id="schemas"></a><a href="#schemas" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Schemas</h2>
<h3><a class="anchor" aria-hidden="true" id="consent-status"></a><a href="#consent-status" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Consent status</h3>
<p><code>consentStatus</code> for a consent can be one of the following values:</p>
<ul>
<li>received</li>
<li>rejected</li>
<li>valid</li>
<li>revokedByPsu</li>
<li>expired</li>
<li>terminatedByTpp</li>
</ul>
<h3><a class="anchor" aria-hidden="true" id="consent-authorisation-status"></a><a href="#consent-authorisation-status" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Consent authorisation status</h3>
<p><code>scaStatus</code> for a consent authorisation can be one of the following values:</p>
<ul>
<li>received</li>
<li>psuIdentified</li>
<li>psuAuthenticated</li>
<li>scaMethodSelected</li>
<li>started</li>
<li>finalised</li>
<li>failed</li>
<li>exempted</li>
</ul>
<h3><a class="anchor" aria-hidden="true" id="aspsp-sca-approach"></a><a href="#aspsp-sca-approach" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>ASPSP-SCA-Approach</h3>
<p>This is a response header that describes how to proceed with authentication.
Can be one of the following values. See the NextGen specs for more details.</p>
<ul>
<li>EMBEDDED</li>
<li>DECOUPLED</li>
<li>REDIRECT</li>
</ul>
<h3><a class="anchor" aria-hidden="true" id="authentication-type"></a><a href="#authentication-type" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Authentication type</h3>
<p><code>authenticationType</code> for a consent authorisation can be one of the following values:</p>
<ul>
<li>SMS_OTP</li>
<li>CHIP_OTP</li>
<li>PHOTO_OTP</li>
<li>PUSH_OTP</li>
</ul>
<p>At this point the only type supported by banks are <code>PUSH_OTP</code> and how that works is covered by this tutorial. As we move into more markets and cover more different banks this will change and the documentation will be updated.</p>
</span></div></article></div><div class="docs-prevnext"><a class="docs-prev button" href="/docs/docs/next/aspsp"><span class="arrow-prev">← </span><span>How to use the ASPSP API</span></a><a class="docs-next button" href="/docs/docs/next/ais"><span>How to use the AIS API</span><span class="arrow-next"> →</span></a></div></div></div><nav class="onPageNav"><ul class="toc-headings"><li><a href="#acquire-an-access-token-for-account-information">Acquire an access token for Account Information</a></li><li><a href="#create-consent-request">Create consent request</a><ul class="toc-headings"><li><a href="#headers">Headers</a></li><li><a href="#body-description">Body description</a></li><li><a href="#response">Response</a></li><li><a href="#response-headers">Response headers</a></li></ul></li><li><a href="#get-consent-request">Get consent request</a><ul class="toc-headings"><li><a href="#headers-1">Headers</a></li><li><a href="#path-parameter">Path parameter</a></li><li><a href="#response-1">Response</a></li><li><a href="#response-headers-1">Response headers</a></li></ul></li><li><a href="#delete-consent-request">Delete consent request</a><ul class="toc-headings"><li><a href="#status-code">Status code</a></li><li><a href="#response-headers-2">Response headers</a></li></ul></li><li><a href="#get-consent-status-request">Get consent status request</a><ul class="toc-headings"><li><a href="#headers-2">Headers</a></li><li><a href="#path-parameter-1">Path parameter</a></li><li><a href="#response-2">Response</a></li><li><a href="#response-headers-3">Response headers</a></li></ul></li><li><a href="#start-the-authorisation-process-for-a-consent">Start the authorisation process for a consent</a><ul class="toc-headings"><li><a href="#headers-3">Headers</a></li><li><a href="#path-parameter-2">Path parameter</a></li><li><a href="#response-3">Response</a></li><li><a href="#response-headers-4">Response headers</a></li></ul></li><li><a href="#get-consent-authorisation-sub-resource-request">Get consent authorisation sub-resource request</a><ul class="toc-headings"><li><a href="#headers-4">Headers</a></li><li><a href="#path-parameter-3">Path parameter</a></li><li><a href="#response-4">Response</a></li><li><a href="#response-headers-5">Response headers</a></li></ul></li><li><a href="#read-the-sca-status-of-the-consent-authorisation">Read the SCA status of the consent authorisation</a><ul class="toc-headings"><li><a href="#headers-5">Headers</a></li><li><a href="#path-parameter-4">Path parameter</a></li><li><a href="#response-5">Response</a></li><li><a href="#response-headers-6">Response headers</a></li></ul></li><li><a href="#update-psu-data-for-consents">Update PSU data for consents</a><ul class="toc-headings"><li><a href="#headers-6">Headers</a></li><li><a href="#path-parameter-5">Path parameter</a></li><li><a href="#response-headers-7">Response headers</a></li><li><a href="#response-6">Response</a></li><li><a href="#test-procedure">Test procedure</a></li></ul></li><li><a href="#schemas">Schemas</a><ul class="toc-headings"><li><a href="#consent-status">Consent status</a></li><li><a href="#consent-authorisation-status">Consent authorisation status</a></li><li><a href="#aspsp-sca-approach">ASPSP-SCA-Approach</a></li><li><a href="#authentication-type">Authentication type</a></li></ul></li></ul></nav></div><footer class="nav-footer" id="footer"><section class="sitemap"><a href="/docs/" class="nav-home"></a><div><h5>Legal</h5><a href="https://openpayments.io/terms-conditions" target="_blank">Terms &amp; Condition</a><a href="https://openpayments.io/privacy-policy" target="_blank">Privacy Policy</a></div><div><h5>About</h5><a href="https://openpayments.io" target="_blank">Open Payments Europe</a><a href="https://developer.openpayments.io" target="_blank">Developer Portal</a><a href="https://stackoverflow.com/questions/tagged/" target="_blank" rel="noreferrer noopener">Stack Overflow</a></div><div><h5>Support</h5><a href="/docs/blog">API Blog</a><a href="mailto:support@openpayments.io">support@openpayments.io</a><a href="https://github.com/openpaymentseurope">GitHub</a></div></section><section class="social"><ul><li><a target="_blank" href="https://www.facebook.com/openpayments"><i class="fab fa-facebook"></i> </a></li><li><a target="_blank" href="https://www.instagram.com/openpayments"><i class="fab fa-instagram"></i> </a></li><li><a target="_blank" href="https://www.linkedin.com/company/openpayments"><i class="fab fa-linkedin"></i> </a></li><li><a target="_blank" href="http://twitter.com/openpaymentseu"><i class="fab fa-twitter"></i></a></li></ul></section><section class="copyright">Copyright © 2019 Open Payments Europe AB</section></footer></div><script type="text/javascript" src="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.js"></script><script>
                document.addEventListener('keyup', function(e) {
                  if (e.target !== document.body) {
                    return;
                  }
                  // keyCode for '/' (slash)
                  if (e.keyCode === 191) {
                    const search = document.getElementById('search_input_react');
                    search && search.focus();
                  }
                });
              </script><script>
              var search = docsearch({
                
                apiKey: '6ae8782a9fea6cc447c939050cadca06',
                indexName: 'default',
                inputSelector: '#search_input_react',
                algoliaOptions: {}
              });
            </script></body></html>